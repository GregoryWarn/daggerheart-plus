<form id="roll-selection" class="application daggerheart dialog dh-style views roll-selection" autocomplete="off">
  <div class="dh-enhanced-dialog">
    <header class="dialog-header">
      <h1 class="dialog-title">
        <span>{{title}}</span>
        {{#if reaction}}
        <button class="reaction-roll-controller {{#if active}}active{{/if}}" type="button">
          <i class="fas fa-bolt"></i>
        </button>
        {{/if}}
      </h1>
    </header>

    <div class="roll-dialog-container">
      <div class="dices-section">
        <div class="dice-option hope-dice">
          <img class="dice-icon hope" src="/modules/daggerheart-plus/assets/icons/dice/hope/d12.svg" alt="Hope Die">
          <div class="dice-select">
            <select name="hopeDie" class="hope-die-select">
              <option value="d4">d4</option>
              <option value="d6">d6</option>
              <option value="d8">d8</option>
              <option value="d10">d10</option>
              <option value="d12" selected>d12</option>
              <option value="d20">d20</option>
            </select>
            <span class="label hope-label">Hope</span>
          </div>
        </div>

        <div class="dice-option fear-dice">
          <img class="dice-icon fear" src="/modules/daggerheart-plus/assets/icons/dice/fear/d12.svg" alt="Fear Die">
          <div class="dice-select">
            <select name="fearDie" class="fear-die-select">
              <option value="d4">d4</option>
              <option value="d6">d6</option>
              <option value="d8">d8</option>
              <option value="d10">d10</option>
              <option value="d12" selected>d12</option>
              <option value="d20">d20</option>
            </select>
            <span class="label fear-label">Fear</span>
          </div>
        </div>
      </div>

      {{#if showAdvantage}}
      <div class="modifier-container">
        <div class="advantage-section">
          <label>Advantage:</label>
          <div class="advantage-chips">
            {{#each advantageOptions}}
            <div class="advantage-chip {{#if selected}}selected{{/if}}" data-value="{{value}}">
              <span class="label">{{label}}</span>
            </div>
            {{/each}}
          </div>
        </div>

        <div class="disadvantage-section">
          <label>Disadvantage:</label>
          <div class="disadvantage-chips">
            {{#each disadvantageOptions}}
            <div class="disadvantage-chip {{#if selected}}selected{{/if}}" data-value="{{value}}">
              <span class="label">{{label}}</span>
            </div>
            {{/each}}
          </div>
        </div>
      </div>
      {{/if}}

      <div class="modifier-input-section">
        <label for="modifier">Modifier:</label>
        <input type="number" name="modifier" value="{{modifier}}" min="-20" max="20">
      </div>

      <div class="roll-dialog-controls">
        <select name="rollMode" class="roll-mode-select">
          <option value="publicRoll">Public Roll</option>
          <option value="privateGMRoll">Private GM Roll</option>
          <option value="blindRoll">Blind Roll</option>
          <option value="selfRoll">Self Roll</option>
        </select>
        
        <button type="button" class="cancel-button" data-action="cancel">
          <i class="fas fa-times"></i> Cancel
        </button>
        
        <button type="submit" class="roll-button primary" data-action="roll">
          <i class="fas fa-dice"></i> Roll
        </button>
      </div>
    </div>
  </div>
</form>
