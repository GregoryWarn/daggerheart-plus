<aside class="character-sidebar-sheet">

    <div class="top-info-container">
        <div class="title">
            <!--<side-line-div class="invert"></side-line-div>-->
            <h3>{{localize "DAGGERHEART.GENERAL.Tabs.information"}}</h3>
            <!--<side-line-div></side-line-div>-->
        </div>

        <div class="information-section">
            <div class="resources-section">
            <div class="status-bar" style="--value: {{document.system.resources.hitPoints.value}}; --max: {{document.system.resources.hitPoints.max}};">
                <div class='status-value' data-value="{{document.system.resources.hitPoints.value}}" data-max="{{document.system.resources.hitPoints.max}}">
                </div>
                <progress
                    class='progress-bar'
                    data-field="resources.hitPoints.value"
                    max='{{document.system.resources.hitPoints.max}}'
                    value='{{document.system.resources.hitPoints.value}}'
                    style='--value: {{document.system.resources.hitPoints.value}}; --max: {{document.system.resources.hitPoints.max}};'
                    aria-label='{{localize "DAGGERHEART.GENERAL.HitPoints.short"}}'
                ></progress>
                <div class="status-label">
                    <h4>{{localize "DAGGERHEART.GENERAL.HitPoints.short"}}</h4>
                </div>

            </div>
            <div class="status-bar" style="--value: {{document.system.resources.stress.value}}; --max: {{document.system.resources.stress.max}};">
                <div class='status-value' data-value="{{document.system.resources.stress.value}}" data-max="{{document.system.resources.stress.max}}">
                </div>
                <progress
                    class='progress-bar stress-color'
                    data-field="resources.stress.value"
                    value='{{document.system.resources.stress.value}}'
                    min="0"
                    max='{{document.system.resources.stress.max}}'
                    style='--value: {{document.system.resources.stress.value}}; --max: {{document.system.resources.stress.max}};'
                    aria-label='{{localize "DAGGERHEART.GENERAL.stress"}}'
                ></progress>
                <div class="status-label">
                    <h4>{{localize "DAGGERHEART.GENERAL.stress"}}</h4>
                </div>
            </div>
        </div>

        <!-- START OF ARMOR AREA -->
            {{#if document.system.resources.armor.max}}
                <div class="status-bar armor-slots" style="--value: {{document.system.resources.armor.value}}; --max: {{document.system.resources.armor.max}};">
                    <div class='status-value' data-value="{{document.system.resources.armor.value}}" data-max="{{document.system.resources.armor.max}}">
                    </div>
                    <progress
                        class='progress-bar armor-color'
                        data-field="resources.armor.value"
                        value='{{document.system.resources.armor.value}}'
                        max='{{document.system.resources.armor.max}}'
                        style='--value: {{document.system.resources.armor.value}}; --max: {{document.system.resources.armor.max}};'
                        aria-label='{{localize "DAGGERHEART.GENERAL.armorSlots"}}'
                    ></progress>
                    <div class="status-label">
                        <h4>{{localize "DAGGERHEART.GENERAL.armorSlots"}}</h4>
                    </div>
                </div>
            {{else}}
                {{#if document.system.armorScore}}
                    <div class="status-bar armor-slots" style="--value: {{document.system.resources.armor.value}}; --max: {{document.system.armorScore}};">
                        <div class='status-value' data-value="{{document.system.resources.armor.value}}" data-max="{{document.system.armorScore}}">
                        </div>
                        <progress
                            class='progress-bar armor-color'
                            data-field="resources.armor.value"
                            value='{{document.system.resources.armor.value}}'
                            max='{{document.system.armorScore}}'
                            style='--value: {{document.system.resources.armor.value}}; --max: {{document.system.armorScore}};'
                            aria-label='{{localize "DAGGERHEART.GENERAL.armorSlots"}}'
                        ></progress>
                        <div class="status-label">
                            <h4>{{localize "DAGGERHEART.GENERAL.armorSlots"}}</h4>
                        </div>
                    </div>
                {{else}}
                    <div class="status-number armor-slots">
                        <div class='status-value'>
                            <p>-</p>
                        </div>
                        <div class="status-label">
                            <h4>{{localize "DAGGERHEART.GENERAL.armorSlots"}}</h4>
                        </div>
                    </div>
                {{/if}}
            {{/if}}

        <div class="status-section">
            <div class="status-number">
                <div class='status-value'>
                    <p>{{document.system.evasion}}</p>
                </div>
                <div class="status-label">
                    <h4>{{localize "DAGGERHEART.GENERAL.evasion"}}</h4>
                </div>
            </div>

            <div class="status-number">
                <div class='status-value'>
                    <p>{{document.system.proficiency}}</p>
                </div>
                <div class="status-label">
                    <h4>{{localize "DAGGERHEART.GENERAL.proficiency"}}</h4>
                </div>
            </div>
        </div>
        </div>

    </div>


    <div class="shortcut-items-section">
        <div class="equipment-section">
            <div class="title">
                <!--<side-line-div class="invert"></side-line-div>-->
                <h3>{{localize "DAGGERHEART.GENERAL.equipment"}}</h3>
                <!--<side-line-div></side-line-div>-->
            </div>
            <ul class="items-sidebar-list">
                {{#if document.system.usedUnarmed}}
                    {{> 'daggerheart.inventory-item'
                    item=document.system.usedUnarmed
                    type='action'
                    hideTags=true
                    hideDescription=true
                    hideResources=true
                    noExtensible=true
                    }}
                {{/if}}
                {{#each document.items as |item|}}
                {{#if item.system.equipped}}
                {{> 'daggerheart.inventory-item'
                item=item
                type=item.type
                hideTags=true
                hideDescription=true
                hideResources=true
                noExtensible=true
                }}
                {{/if}}
                {{/each}}
            </ul>
        </div>
        {{#unless enableCharacterSheetSidebars}}
        <div class="loadout-section">
            <div class="title">
                <!--<side-line-div class="invert"></side-line-div>-->
                <h3>{{localize "DAGGERHEART.GENERAL.loadout"}}</h3>
                <!--<side-line-div></side-line-div>-->
            </div>
            <ul class="items-sidebar-list">
                {{#each document.system.domainCards.loadout as |card|}}
                {{> 'daggerheart.inventory-item'
                    item=card
                    type='domainCard'
                    hideTags=true
                    hideDescription=true
                    hideResources=true
                    noExtensible=true
                }}

                {{/each}}
            </ul>
        </div>
        {{/unless}}
        <div class="experience-section">
            <div class="title">
                <!--<side-line-div class="invert"></side-line-div>-->
                <h3>{{localize "DAGGERHEART.GENERAL.experience.single"}}</h3>
                <!--<side-line-div></side-line-div>-->
            </div>
            <div class="experience-list">
                {{#each document.system.experiences as |experience id|}}
                    <div class="experience-row" data-tooltip-text="{{experience.description}}">
                        <div class="experience-value">
                            +{{experience.value}}
                        </div>
                        <span>{{experience.name}}</span>
                        <div class="controls">
                            <a data-action="sendExpToChat" data-type="experience" data-id="{{id}}">
                                <i class="fa-regular fa-message"></i>
                            </a>
                        </div>
                    </div>
                {{/each}}
            </div>
        </div>
    </div>
</aside>
